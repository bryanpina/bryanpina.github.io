<html>
  <body>
    <h1>Welcome to my page!</h1>
    
    <h2> Short Introduction.</h2>
    
      <p> Hello! My name is Bryan Pina and in the following paragraphs you're going to get to know me a little bit.
        <br>First, the purpose of this webpage is for the current class I'm taking CSCI434 Web Programming. Back to a little bit about me.
        <br>I currently live in Japan with my wife and dog. We've lived here for almost two years and we love it so far! I'm originally from New York
        <br>and I plan on moving back to the states soon. </p>
      
      <p> I'm currently majoring in Computer Science and I need less then a year of school to complete my degree.
        <br>This is my first web development class and I am enjoying it so far. For this webpage I will be posting pictures
        <br> about my travels here in Japan for you guys to enjoy. One of my hobbies is photography, which I'm not very good at
        <br> So you guys will be able to see and judge my photography as well.</p> 
        
    <h2> Hyperlinks of my most visited websites.</h2>
    <br> <a href="https://www.amazon.com/" target="_new"> Go to my favorite shopping site</a>
    <br> <a href="https://www.youtube.com/" target="_new"> Go to my favorite place to kill time</a>
    <br> <a href="https://www.twitch.tv/" target="_new"> Some more entertainment</a>
    
    <h2> Some images of Mt. Fuji.</h2>
    <img src="https://images.unsplash.com/photo-1509023464722-18d996393ca8?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1740&q=80" alt="Mt. Fuji 1" width="200"/>
    <br> <img src="https://images.unsplash.com/photo-1576675466969-38eeae4b41f6?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2574&q=80" alt="Mt. Fuji 2" width="200"/>
    
    <h2> How I plan on building upon my page. </h2>
      <p> I plan on building upon my page by adding some of my own pictures and experiences to the web page. The above pictures
        <br> are not taken by me but they have inspired me to just go out and shoot even if mine aren't going to come out as good as these.
        <br> With pictures that I have taken I also plan on reviewing the places I have visited in my time in Japan. </p>
    <br>
    <form>
<table>
	<tr>
	<td>First Name: </td>
	<td><input type="text" id="fname" name="fname" /></td>
	</tr>
	<tr>
	<td>Last Name: </td>
	<td><input type="text" id="lname" name="lname" /></td>
	</tr>
	<tr>
	<td>Age: </td>
	<td><input type="text" id="age" name="age" /></td>
	</tr>
	<tr>
	<td>Address: </td>
	<td><input type="text" id="address" name="address" /></td>
	</tr>
	<tr>
	<td>Address line 2: </td>
	<td><input type="text" id="address2" name="address2" /></td>
	</tr>
	<tr>
	<td>City: </td>
	<td><input type="text" id="city" name="city" /></td>
	</tr>
	<tr>
	<td>State: </td>
	<td><input type="text" id="state" name="state" /></td>
	</tr>
	<tr>
	<td>Zip Code: </td>
	<td><input type="text" id="zip code" name="zip code" /></td>
	</tr>
	<tr>
	<td>Phone Number: </td>
	<td><input type="text" id="phone number" name="phone number" /></td>
	</tr>
	<tr>
	<td>Country: </td>
	<td><input type="text" id="country" name="country" /></td>
	</tr>
</table>
	<input type="submit" />
	    <br>
	   
	   <script type="text/javascript">
     var submitted = false;
     function submitform()
     {
       if(submitted) {
         return false;
       }
       submitted=true;
       document.epayform.submitbutton.value='Please Wait... Processing';
       return true;
     }
</script>
	    <script  type="text/javascript">

//lineitem object constructor
function lineitem (productrefnum, sku, name, description, cost, quantity, taxable, hiddeninputs, subtotal) 
{
this.productrefnum=productrefnum;
this.sku=sku;
this.name=name;
this.description=description;
this.cost=cost;
this.quantity=quantity;
this.taxable=taxable;
this.hiddeninputs=hiddeninputs;
this.subtotal=subtotal;

this.newhiddeninputs=newhiddeninputs;
this.newsubtotal=newsubtotal;
}

//newhiddeninputs method for lineitem object
//UMline*qty values are hidden since the form does not directly modify that variable.
function newhiddeninputs(n)
{
var hidden_inputs="";
if (this.quantity > 0)
  {
  hidden_inputs=hidden_inputs + "<input type=\"hidden\" name=\"UMline" + n + "productrefnum\" value=\"" + this.productrefnum + "\" />";  
  hidden_inputs=hidden_inputs + "<input type=\"hidden\" name=\"UMline" + n + "sku\" value=\"" + this.sku + "\" />";
  hidden_inputs = hidden_inputs + "<input type=\"hidden\" name=\"UMline" + n + "name\" value=\"" + this.name + "\" />";
  hidden_inputs = hidden_inputs + "<input type=\"hidden\" name=\"UMline" + n + "description\" value=\"" + this.description + "\" />";
  hidden_inputs = hidden_inputs + "<input type=\"hidden\" name=\"UMline" + n + "cost\" value=\"" + this.cost + "\" />";
  hidden_inputs = hidden_inputs + "<input type=\"hidden\" name=\"UMline" + n + "qty\" value=\"" + this.quantity + "\" />";
  hidden_inputs = hidden_inputs + "<input type=\"hidden\" name=\"UMline" + n + "taxable\" value=\"" + this.taxable + "\" />";
  this.hiddeninputs=hidden_inputs;
  }
}

//newsubtotal method for lineitem object
function newsubtotal()
{
this.subtotal=this.quantity*(this.cost*1.0);
}

//main function to update the amount. We match quantities of all the line items to
//the products. Then we change the hidden inputs using a
//<div id="hiddenvariables>&nbsp;</div> tag only if the quantity > 0 for the product.
function updateAmount() 
{

//we pull all the elements of the form which are named "Line[]" so that we'll be able to
//cycle through the assigning product quantities with a for loop based on the number of
//input fields for the products on the form. Without the [] notation
//we'd have to have a separate declaration line for each product.quantity
var myForm = document.forms.epayform;
var lineItems = myForm.elements["Line[]"];

//assign quantities to lineqty
var lineqty = new Array(lineItems.length); //lineqty size needs to be explicitly defined
for (var q = 0;  q < lineItems.length; q++) //must use < since arrays start index at 0
  {
  lineqty[q] = lineItems[q].value;
  }

//create lineitem objects for each product.
//To ease future maintenance of code we use an array to house the objects
//It's possible we may not need every single property of the product members to be declared
//but it's done just to avoid any possible errors with undefined properties.
//It's merchant's choice how many properties they really want to pass through on their
//transaction details and/or receipts.
//We initialize .quantity=0, .subtotal=0, .hiddeninputs="".
var products = new Array();

products[1] = new lineitem();
products[1].productrefnum = "57"
products[1].sku = "breakfastmembers";
products[1].name = "Breakfast for Members";
products[1].description = "Breakfast for members"; 
products[1].cost = 20.00;
products[1].quantity = 0;
products[1].taxable = "N";
products[1].subtotal = 0;
products[1].hiddeninputs = "";

products[2] = new lineitem();
products[2].productrefnum = "59"
products[2].sku = "breakfastnonmembers";
products[2].name = "Breakfast for Non-Members";
products[2].description = "Breakfast for non-members"; 
products[2].cost = 30.00;
products[2].quantity = 0;
products[2].taxable = "N";
products[2].subtotal = 0;
products[2].hiddeninputs = "";

//assign quantities to the product objects
for (var l=1; l < lineqty.length; l++)  //must use < since arrays start index at 0
  {
  if (lineqty.length > 0)
    {
    products[l].quantity = lineqty[l];
    }
  }

//calculate subtotals
var total=0;
for (var t=1; t < products.length; t++)  //must use < since arrays start index at 0
  {
  if (products[t].quantity > 0)
  {
    products[t].newsubtotal();
    total=total + products[t].subtotal;
   }  
  }

//create hidden inputs for form
var hiddeninputscomplete= "";  
for (var h=1; h < products.length; h++)  //must use < since arrays start index at 0
  {
  if (products[h].quantity > 0)
   {
    products[h].newhiddeninputs(h);
    hiddeninputscomplete = hiddeninputscomplete + products[h].hiddeninputs;
    document.getElementById('hiddenvariables').innerHTML = hiddeninputscomplete;
   }
  }

//assign total to UMamount and modify form to send the amount to the gateway.  
total = Math.round((total*1)*100)/100; 
document.epayform.UMamount.value = total;
document.getElementByName('UMamount').innerHTML = total;

}
  function CurrencyFormatted(amount)
  {
  var i = parseFloat(amount);
  if(isNaN(i)) { i = 0.00; }
  var minus = '';
  if(i < 0) { minus = '-'; }
  i = Math.abs(i);
  i = parseInt((i + .005) * 100);
  i = i / 100;
  s = new String(i);
  if(s.indexOf('.') < 0) { s += '.00'; }
  if(s.indexOf('.') == (s.length - 2)) { s += '0'; }
  s = minus + s;
  return s;
  }
  </script>
<input type="hidden" name="UMsubmit" value="1">
<input type="hidden" name="UMkey" value="[UMkey]">
<input type="hidden" name="UMredirDeclined" value="[UMredirDeclined]">
<input type="hidden" name="UMredirApproved" value="[UMredirApproved]">
<input type="hidden" name="UMhash" value="[UMhash]">
<input type="hidden" name="UMcommand" value="[UMcommand]">
<input type="hidden" name="UMtax" value="[UMtax]">
<input type="hidden" name="UMinvoice" value="[UMinvoice]">
<input type="hidden" name="UMcustid" value="[UMcustid]">
<input type="hidden" name="UMrecurring" value="[UMrecurring]">
<input type="hidden" name="UMaddcustomer" value="[UMaddcustomer]">
<input type="hidden" name="UMbillamount" value="[UMbillamount]">
<input type="hidden" name="UMcustreceipt" value="yes">
<input type="hidden" name="UMschedule" value="[UMschedule]">
<input type="hidden" name="UMnumleft" value="[UMnumleft]">
<input type="hidden" name="UMstart" value="[UMstart]">
<input type="hidden" name="UMexpire" value="[UMexpire]">
<input type="hidden" name="UMdescription" value="[UMdescription]">
<input type="hidden" name="UMechofields" value="[UMechofields]">
<input type="hidden" name="UMformString" value="[UMformString]">
	    <div class="form-group">
  <span class="col-form-label col-sm-4 col-xs-12 "></span>
  <div class="col-md-8 col-xs-12 ">
    <input class="form-control" type="hidden" value="[UMamount]" name="Line[]" value="">
  </div>
</div>
<div class="form-group">
  <span class="col-form-label col-sm-4 col-xs-12 ">Breakfast For Members - $20</span>
  <div class="col-md-8 col-xs-12 ">
    <input class="form-control" type="text" name="Line[]" value="" placeholder="Enter Quantity" onChange="updateAmount()">
  </div>
</div>
<div class="form-group">
  <span class="col-form-label col-sm-4 col-xs-12 ">Breakfast For Guests - $30</span>
  <div class="col-md-8 col-xs-12 ">
    <input class="form-control" type="text" name="Line[]" value="" placeholder="Enter Quantity" onChange="updateAmount()">
  </div>
</div>
	    <div class="form-group">
  <span class="col-form-label col-sm-4 col-xs-12 ">Order Amount</span>
  <div class="col-md-8 col-xs-12 ">
    <input id="UMamount" name="UMamount" class="form-control displayonly" type="text"  readonly="readonly" placeholder="Order Amount" value="[UMamount]">
  </div>
</div>
	    
		    
	    
	    
</form>
  </body>
  </html>
